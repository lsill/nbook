---
title: "Tower of Hanoi"
date: 2023-08-07T10:58:15+08:00
draft: false
---
## 汉诺塔问题

### 了解递归

### 1. 问题：
汉诺塔（港台：河内塔）（Tower of Hanoi）是根据一个传说形成的数学问题：

有三根杆子A，B，C。A杆上有 N 个 (N>1) 穿孔圆盘，盘的尺寸由下到上依次变小。要求按下列规则将所有圆盘移至 C 杆：

每次只能移动一个圆盘；
大盘不能叠在小盘上面。

### 2. 思考：
1. 递归思路分解问题：
- 先将n-1个圆盘放到中间杆子上，需要F(n-1)步
- 将第n个盘子放到目标杆子上，需要1步
- 将n-1个盘子放到目标杆子上，也需要F(n-1)步
- 那么F(n) = 2F(n-1)+1

### 3. 解问题
归纳法总结问题：
- 0个圆盘需要0步
- 转移1个圆盘需要1步
- 转移2个圆盘需要3步
- 转移3个圆盘需要2 * 3 + 1 = 7
- 转移4个圆盘需要2 * 7 + 1 = 15
- 转移5个圆盘需要2 * 15 + 1 = 31
- ...
- 转移n个圆盘需要2 * (2^n-1 - 1) + 1 = 2^n - 1

### 4. 简化递归过程
1. 公式两边同时+1
F(0) + 1 = 1
F(n) + 1 = 2F(n-1) + 2
2. 假设U(n) = F(n) + 1
那么U(0) = 1
U(n) = 2U(n-1)
即，U(n) = 2^n
F(n) = 2^n - 1


### 5. 汉诺塔问题的变种
问题：把n个圆盘组成的塔从A杆移动到B杆，如果A和B之间直接移动是不允许的，找出移动的最短序列。
（每次移动一定是移动到中间杆或者从中间杆移除，照例，较大的盘一定不能出现在一个较小的盘上）

推导：
假设把A种有n个圆盘移动到B需要F(n)步，那么n-1个圆盘移动到B需要F(n-1)步
则，A到B的过程可以是先把n-1个盘放到B，然后把最大的放到中间盘，在把n-1放回A，最大盘从中间放到
B，在把n-1放到B，推导出公式：
F(n) = F(n-1) + 1 + F(n-1) + 1 + F(n-1)
公式两边同时+1
F(n) + 1 = 3(F(n-1) + 1)
得出 F(n) = 3^n - 1